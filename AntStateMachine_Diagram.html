<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ant State Machine Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
            line-height: 1.6;
        }
        
        .diagram-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        .section {
            margin: 30px 0;
        }
        
        .section h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-bottom: 20px;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #333;
        }
        
        .primary { background-color: #e8f4fd; }
        .combat { background-color: #ffeaea; }
        .terrain { background-color: #f0f8e8; }
        .transition { background-color: #fff3e0; }
        
        svg {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .state-box {
            stroke-width: 2;
            rx: 8;
            ry: 8;
        }
        
        .primary-state {
            fill: #e8f4fd;
            stroke: #3498db;
        }
        
        .combat-state {
            fill: #ffeaea;
            stroke: #e74c3c;
        }
        
        .terrain-state {
            fill: #f0f8e8;
            stroke: #27ae60;
        }
        
        .state-text {
            font-family: 'Segoe UI', sans-serif;
            font-size: 12px;
            font-weight: 600;
            text-anchor: middle;
            dominant-baseline: middle;
            fill: #2c3e50;
        }
        
        .arrow {
            stroke: #7f8c8d;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .transition-arrow {
            stroke: #f39c12;
            stroke-width: 3;
            fill: none;
            marker-end: url(#arrowhead-orange);
        }
        
        .restriction-text {
            font-size: 10px;
            fill: #e74c3c;
            text-anchor: middle;
        }
        
        .action-text {
            font-size: 11px;
            fill: #27ae60;
            text-anchor: middle;
        }
        
        .composite-example {
            fill: #fff3e0;
            stroke: #f39c12;
            stroke-width: 3;
            stroke-dasharray: 5,5;
        }
        
        .description {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .action-matrix {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .action-matrix table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        
        .action-matrix th,
        .action-matrix td {
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .action-matrix th {
            background: #34495e;
            color: white;
            font-weight: 600;
        }
        
        .allowed {
            background: #d5f4e6;
            color: #27ae60;
            font-weight: 600;
        }
        
        .blocked {
            background: #fadbd8;
            color: #e74c3c;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <h1>üêú Ant State Machine Architecture Diagram</h1>
        
        <div class="description">
            <strong>Overview:</strong> The AntStateMachine uses a hierarchical state system with three independent layers: 
            <strong>Primary States</strong> (main activity), <strong>Combat Modifiers</strong> (battle status), 
            and <strong>Terrain Modifiers</strong> (environmental effects). States combine to form composite states 
            like "MOVING_IN_COMBAT_IN_WATER" with specific action restrictions.
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color primary"></div>
                <span>Primary States (7 states)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color combat"></div>
                <span>Combat Modifiers (5 states)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color terrain"></div>
                <span>Terrain Modifiers (5 states)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color transition"></div>
                <span>Composite State Example</span>
            </div>
        </div>

        <div class="section">
            <h2>üéØ Primary States (Main Activities)</h2>
            <svg width="1340" height="180">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d" />
                    </marker>
                </defs>
                
                <!-- Primary States -->
                <rect x="20" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="80" y="50" class="state-text">IDLE</text>
                <text x="80" y="65" class="restriction-text">Default State</text>
                
                <rect x="170" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="230" y="50" class="state-text">MOVING</text>
                <text x="230" y="65" class="restriction-text">Can't: Attack/Spit</text>
                
                <rect x="320" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="380" y="50" class="state-text">GATHERING</text>
                <text x="380" y="65" class="restriction-text">Needs: Out of Combat</text>
                
                <rect x="470" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="530" y="50" class="state-text">FOLLOWING</text>
                <text x="530" y="65" class="restriction-text">Can't: Attack/Spit</text>
                
                <rect x="620" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="680" y="50" class="state-text">BUILDING</text>
                <text x="680" y="65" class="restriction-text">Blocks: Most Actions</text>
                
                <rect x="770" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="830" y="50" class="state-text">SOCIALIZING</text>
                <text x="830" y="65" class="restriction-text">Needs: Out of Combat</text>
                
                <rect x="920" y="20" width="120" height="60" class="state-box primary-state"/>
                <text x="980" y="50" class="state-text">MATING</text>
                <text x="980" y="65" class="restriction-text">Blocks: Most Actions</text>
                
                <!-- Transition arrows -->
                <line x1="140" y1="50" x2="170" y2="50" class="arrow"/>
                <line x1="290" y1="50" x2="320" y2="50" class="arrow"/>
                <line x1="440" y1="50" x2="470" y2="50" class="arrow"/>
                <line x1="590" y1="50" x2="620" y2="50" class="arrow"/>
                <line x1="740" y1="50" x2="770" y2="50" class="arrow"/>
                <line x1="890" y1="50" x2="920" y2="50" class="arrow"/>
                
                <!-- Return to IDLE arrows -->
                <path d="M 230 20 Q 230 0 80 0 Q 80 0 80 20" class="arrow"/>
                <path d="M 380 20 Q 380 0 80 0" class="arrow"/>
                <path d="M 530 20 Q 530 0 80 0" class="arrow"/>
                <path d="M 680 20 Q 680 0 80 0" class="arrow"/>
                <path d="M 830 20 Q 830 0 80 0" class="arrow"/>
                <path d="M 980 20 Q 980 0 80 0" class="arrow"/>
                
                <text x="670" y="110" class="action-text">All states can transition back to IDLE</text>
                <text x="670" y="130" class="action-text">Transitions based on action completion or external commands</text>
            </svg>
        </div>

        <div class="section">
            <h2>‚öîÔ∏è Combat Modifiers (Battle Status)</h2>
            <svg width="1340" height="150">
                <defs>
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
                    </marker>
                </defs>
                
                <!-- Combat States -->
                <rect x="50" y="20" width="150" height="60" class="state-box combat-state"/>
                <text x="125" y="50" class="state-text">OUT_OF_COMBAT</text>
                <text x="125" y="65" class="restriction-text">Default - All Actions</text>
                
                <rect x="250" y="20" width="150" height="60" class="state-box combat-state"/>
                <text x="325" y="50" class="state-text">IN_COMBAT</text>
                <text x="325" y="65" class="restriction-text">Enemy Detected</text>
                
                <rect x="450" y="20" width="150" height="60" class="state-box combat-state"/>
                <text x="525" y="50" class="state-text">ATTACKING</text>
                <text x="525" y="65" class="restriction-text">Blocks: Move/Follow</text>
                
                <rect x="650" y="20" width="150" height="60" class="state-box combat-state"/>
                <text x="725" y="50" class="state-text">DEFENDING</text>
                <text x="725" y="65" class="restriction-text">Allows: Most Actions</text>
                
                <rect x="850" y="20" width="150" height="60" class="state-box combat-state"/>
                <text x="925" y="50" class="state-text">SPITTING</text>
                <text x="925" y="65" class="restriction-text">Blocks: Move/Follow</text>
                
                <!-- Combat flow arrows -->
                <line x1="200" y1="50" x2="250" y2="50" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-red)"/>
                <line x1="400" y1="50" x2="450" y2="50" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-red)"/>
                <line x1="600" y1="50" x2="650" y2="50" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-red)"/>
                <line x1="800" y1="50" x2="850" y2="50" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-red)"/>
                
                <!-- Return arrows -->
                <path d="M 325 20 Q 325 0 125 0 Q 125 0 125 20" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrowhead-red)"/>
                <path d="M 525 20 Q 525 0 125 0" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrowhead-red)"/>
                <path d="M 725 20 Q 725 0 125 0" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrowhead-red)"/>
                <path d="M 925 20 Q 925 0 125 0" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrowhead-red)"/>
                
                <text x="200" y="30" class="action-text" style="font-size: 10px;">Enemy Nearby</text>
                <text x="400" y="30" class="action-text" style="font-size: 10px;">Start Attack</text>
                <text x="600" y="30" class="action-text" style="font-size: 10px;">Defend Mode</text>
                <text x="800" y="30" class="action-text" style="font-size: 10px;">Ranged Attack</text>
                
                <text x="500" y="110" class="action-text">Combat transitions triggered by enemy detection and combat commands</text>
            </svg>
        </div>

        <div class="section">
            <h2>üåç Terrain Modifiers (Environmental Effects)</h2>
            <svg width="1340" height="150">
                <!-- Terrain States -->
                <rect x="70" y="20" width="120" height="60" class="state-box terrain-state"/>
                <text x="130" y="50" class="state-text">DEFAULT</text>
                <text x="130" y="65" class="restriction-text">Normal Speed</text>
                
                <rect x="270" y="20" width="120" height="60" class="state-box terrain-state"/>
                <text x="330" y="50" class="state-text">IN_WATER</text>
                <text x="330" y="65" class="restriction-text">50% Speed</text>
                
                <rect x="470" y="20" width="120" height="60" class="state-box terrain-state"/>
                <text x="530" y="50" class="state-text">IN_MUD</text>
                <text x="530" y="65" class="restriction-text">30% Speed</text>
                
                <rect x="670" y="20" width="120" height="60" class="state-box terrain-state"/>
                <text x="730" y="50" class="state-text">ON_SLIPPERY</text>
                <text x="730" y="65" class="restriction-text">0% Speed</text>
                
                <rect x="870" y="20" width="120" height="60" class="state-box terrain-state"/>
                <text x="930" y="50" class="state-text">ON_ROUGH</text>
                <text x="930" y="65" class="restriction-text">80% Speed</text>
                
                <!-- Terrain transitions (bidirectional) -->
                <line x1="190" y1="40" x2="270" y2="40" class="arrow"/>
                <line x1="270" y1="60" x2="190" y2="60" class="arrow"/>
                
                <line x1="390" y1="40" x2="470" y2="40" class="arrow"/>
                <line x1="470" y1="60" x2="390" y2="60" class="arrow"/>
                
                <line x1="590" y1="40" x2="670" y2="40" class="arrow"/>
                <line x1="670" y1="60" x2="590" y2="60" class="arrow"/>
                
                <line x1="790" y1="40" x2="870" y2="40" class="arrow"/>
                <line x1="870" y1="60" x2="790" y2="60" class="arrow"/>
                
                <text x="500" y="110" class="action-text">Terrain modifiers change automatically based on ant position</text>
                <text x="500" y="130" class="action-text">Affects movement speed and action restrictions</text>
            </svg>
        </div>

        <div class="section">
            <h2>üîÑ Composite State Example</h2>
            <svg width="1340" height="200">
                <defs>
                    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#f39c12" />
                    </marker>
                </defs>
                
                <!-- Example composition -->
                <rect x="50" y="50" width="120" height="60" class="state-box primary-state"/>
                <text x="110" y="80" class="state-text">MOVING</text>
                
                <text x="200" y="80" class="state-text" style="font-size: 24px;">+</text>
                
                <rect x="250" y="50" width="120" height="60" class="state-box combat-state"/>
                <text x="310" y="80" class="state-text">IN_COMBAT</text>
                
                <text x="400" y="80" class="state-text" style="font-size: 24px;">+</text>
                
                <rect x="450" y="50" width="120" height="60" class="state-box terrain-state"/>
                <text x="510" y="80" class="state-text">IN_WATER</text>
                
                <text x="600" y="80" class="state-text" style="font-size: 24px;">=</text>
                
                <rect x="650" y="30" width="300" height="100" class="state-box composite-example"/>
                <text x="800" y="70" class="state-text" style="font-size: 14px;">MOVING_IN_COMBAT_IN_WATER</text>
                <text x="800" y="90" class="restriction-text">‚Ä¢ Movement: 50% speed (water)</text>
                <text x="800" y="105" class="restriction-text">‚Ä¢ Combat: Can attack/defend</text>
                <text x="800" y="120" class="restriction-text">‚Ä¢ Restrictions: No building/mating</text>
                
                <!-- Composition arrows -->
                <line x1="170" y1="80" x2="190" y2="80" class="transition-arrow"/>
                <line x1="220" y1="80" x2="250" y2="80" class="transition-arrow"/>
                <line x1="370" y1="80" x2="390" y2="80" class="transition-arrow"/>
                <line x1="420" y1="80" x2="450" y2="80" class="transition-arrow"/>
                <line x1="570" y1="80" x2="590" y2="80" class="transition-arrow"/>
                <line x1="620" y1="80" x2="650" y2="80" class="transition-arrow"/>
                
                <text x="500" y="160" class="action-text">Total Possible Combinations: 7 √ó 5 √ó 5 = 175 unique states</text>
                <text x="500" y="180" class="action-text">Each combination has specific action permissions and restrictions</text>
            </svg>
        </div>

        <div class="section">
            <h2>üìã Action Permission Matrix</h2>
            <div class="action-matrix">
                <table>
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>IDLE</th>
                            <th>MOVING</th>
                            <th>GATHERING</th>
                            <th>BUILDING</th>
                            <th>MATING</th>
                            <th>IN_COMBAT</th>
                            <th>ATTACKING</th>
                            <th>ON_SLIPPERY</th>
                            <th>IN_WATER</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Move</strong></td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì (50%)</td>
                        </tr>
                        <tr>
                            <td><strong>Gather</strong></td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                        </tr>
                        <tr>
                            <td><strong>Attack</strong></td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                        </tr>
                        <tr>
                            <td><strong>Build</strong></td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                        </tr>
                        <tr>
                            <td><strong>Socialize</strong></td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                        </tr>
                        <tr>
                            <td><strong>Mate</strong></td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="blocked">‚úó</td>
                            <td class="blocked">‚úó</td>
                            <td class="allowed">‚úì</td>
                            <td class="allowed">‚úì</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="description">
                <strong>Note:</strong> This matrix shows key state combinations. In practice, all three modifiers 
                (Primary + Combat + Terrain) are evaluated together. For example, an ant in 
                "BUILDING_IN_COMBAT_ON_SLIPPERY" would be blocked from most actions due to multiple restrictions.
            </div>
        </div>

        <div class="section">
            <h2>üîÑ State Transition Rules</h2>
            <div class="description">
                <h3>Automatic Transitions:</h3>
                <ul>
                    <li><strong>Combat Detection:</strong> OUT_OF_COMBAT ‚Üí IN_COMBAT when enemy ants detected within range</li>
                    <li><strong>Terrain Changes:</strong> Automatic updates based on ant position on game grid</li>
                    <li><strong>Activity Completion:</strong> MOVING ‚Üí IDLE when reaching destination</li>
                    <li><strong>Combat Resolution:</strong> IN_COMBAT ‚Üí OUT_OF_COMBAT when no enemies nearby</li>
                </ul>
                
                <h3>Command-Based Transitions:</h3>
                <ul>
                    <li><strong>Queen Commands:</strong> Can force state changes via command queue system</li>
                    <li><strong>Player Input:</strong> Direct commands to change primary activities</li>
                    <li><strong>AI Behaviors:</strong> Autonomous decisions based on game conditions</li>
                </ul>
                
                <h3>Restriction Enforcement:</h3>
                <ul>
                    <li><strong>State Validation:</strong> All transitions checked against <code>canPerformAction()</code></li>
                    <li><strong>Priority System:</strong> Combat and terrain modifiers can override primary state permissions</li>
                    <li><strong>Fallback Mechanisms:</strong> Failed actions may trigger return to IDLE state</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>üéÆ Integration with Game Systems</h2>
            <svg width="1340" height="300">
                <!-- Game Systems Integration -->
                <rect x="50" y="50" width="200" height="80" class="state-box" style="fill: #f8f9fa; stroke: #6c757d;"/>
                <text x="150" y="85" class="state-text" style="font-size: 14px;">Ant Class</text>
                <text x="150" y="105" class="state-text">‚Ä¢ Movement Logic</text>
                <text x="150" y="120" class="state-text">‚Ä¢ Visual Rendering</text>
                
                <rect x="320" y="50" width="200" height="80" class="state-box" style="fill: #e8f4fd; stroke: #3498db;"/>
                <text x="420" y="85" class="state-text" style="font-size: 14px;">AntStateMachine</text>
                <text x="420" y="105" class="state-text">‚Ä¢ State Management</text>
                <text x="420" y="120" class="state-text">‚Ä¢ Action Validation</text>
                
                <rect x="590" y="50" width="200" height="80" class="state-box" style="fill: #fff3e0; stroke: #f39c12;"/>
                <text x="690" y="85" class="state-text" style="font-size: 14px;">Queen Class</text>
                <text x="690" y="105" class="state-text">‚Ä¢ Command Issuing</text>
                <text x="690" y="120" class="state-text">‚Ä¢ Faction Management</text>
                
                <rect x="860" y="50" width="200" height="80" class="state-box" style="fill: #f0f8e8; stroke: #27ae60;"/>
                <text x="960" y="85" class="state-text" style="font-size: 14px;">Terrain System</text>
                <text x="960" y="105" class="state-text">‚Ä¢ Grid Detection</text>
                <text x="960" y="120" class="state-text">‚Ä¢ Speed Modifiers</text>
                
                <!-- Integration arrows -->
                <line x1="250" y1="90" x2="320" y2="90" class="transition-arrow"/>
                <line x1="520" y1="90" x2="590" y2="90" class="transition-arrow"/>
                <line x1="790" y1="90" x2="860" y2="90" class="transition-arrow"/>
                
                <!-- Feedback arrows -->
                <path d="M 420 50 Q 420 30 150 30 Q 150 30 150 50" class="arrow"/>
                <path d="M 690 50 Q 690 30 420 30" class="arrow"/>
                <path d="M 960 50 Q 960 30 420 30" class="arrow"/>
                
                <!-- Data Flow -->
                <rect x="200" y="180" width="800" height="100" class="state-box" style="fill: #fef9e7; stroke: #f1c40f;"/>
                <text x="600" y="210" class="state-text" style="font-size: 16px; font-weight: bold;">Data Flow & Event Handling</text>
                
                <text x="220" y="240" class="state-text" style="font-size: 12px;">1. Terrain Detection ‚Üí Update Terrain Modifier</text>
                <text x="220" y="255" class="state-text" style="font-size: 12px;">2. Enemy Detection ‚Üí Set Combat Modifier</text>
                <text x="220" y="270" class="state-text" style="font-size: 12px;">3. Command Processing ‚Üí Change Primary State</text>
                
                <text x="600" y="240" class="state-text" style="font-size: 12px;">4. State Validation ‚Üí Check Action Permissions</text>
                <text x="600" y="255" class="state-text" style="font-size: 12px;">5. Movement Calculation ‚Üí Apply Speed Modifiers</text>
                <text x="600" y="270" class="state-text" style="font-size: 12px;">6. Visual Updates ‚Üí Render State Indicators</text>
            </svg>
        </div>

        <div class="section">
            <h2>üìä Implementation Statistics</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="description">
                    <h3>üî¢ State Combinations</h3>
                    <ul>
                        <li><strong>Primary States:</strong> 7</li>
                        <li><strong>Combat Modifiers:</strong> 5</li>
                        <li><strong>Terrain Modifiers:</strong> 5</li>
                        <li><strong>Total Combinations:</strong> 175</li>
                        <li><strong>Valid Combinations:</strong> ~120 (filtered by restrictions)</li>
                    </ul>
                </div>
                
                <div class="description">
                    <h3>‚ö° Performance Features</h3>
                    <ul>
                        <li><strong>O(1) State Queries:</strong> Direct property access</li>
                        <li><strong>Efficient Validation:</strong> Early exit on restrictions</li>
                        <li><strong>Memory Footprint:</strong> ~200 bytes per ant</li>
                        <li><strong>Callback System:</strong> Event-driven state changes</li>
                        <li><strong>Debug Support:</strong> Comprehensive state logging</li>
                    </ul>
                </div>
                
                <div class="description">
                    <h3>üéØ Design Goals Achieved</h3>
                    <ul>
                        <li><strong>Modularity:</strong> Independent state layers</li>
                        <li><strong>Extensibility:</strong> Easy to add new states</li>
                        <li><strong>Clarity:</strong> Self-documenting state names</li>
                        <li><strong>Testability:</strong> Comprehensive test suite</li>
                        <li><strong>Integration:</strong> Seamless game system binding</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>